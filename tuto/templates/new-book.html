{% extends "base.html" %}
{% block main %}
<h1>Ajouter un livre</h1>
<form role="form" method="POST" action="{{ url_for('create_book') }}">
    {{ form.hidden_tag() }}
    
    <div class="
        {% if form.title.errors %}
            form-group has-error
        {% else %}
            form-group
        {% endif %}
    ">
        {{ form.title.label }} {{ form.title(size=50, class_="form-control") }}
    </div>
    {% if form.title.errors %}
        <ul class="list-group">
            {% for e in form.title.errors %}
                <li class="list-group-item list-group-item-danger">{{ e }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="
        {% if form.price.errors %}
            form-group has-error
        {% else %}
            form-group
        {% endif %}
    ">
        {{ form.price.label }} {{ form.price(class_="form-control") }}
    </div>
    {% if form.price.errors %}
        <ul class="list-group">
            {% for e in form.price.errors %}
                <li class="list-group-item list-group-item-danger">{{ e }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="
        {% if form.url.errors %}
            form-group has-error
        {% else %}
            form-group
        {% endif %}
    ">
        {{ form.url.label }} {{ form.url(size=50, class_="form-control") }}
    </div>
    {% if form.url.errors %}
        <ul class="list-group">
            {% for e in form.url.errors %}
                <li class="list-group-item list-group-item-danger">{{ e }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="
        {% if form.img.errors %}
            form-group has-error
        {% else %}
            form-group
        {% endif %}
    ">
        {{ form.img.label }} {{ form.img(class_="form-control") }}
    </div>
    {% if form.img.errors %}
        <ul class="list-group">
            {% for e in form.img.errors %}
                <li class="list-group-item list-group-item-danger">{{ e }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="
        {% if form.author_id.errors %}
            form-group has-error
        {% else %}
            form-group
        {% endif %}
    ">
        {{ form.author_id.label }} {{ form.author_id(class_="form-control") }}
    </div>
    {% if form.author_id.errors %}
        <ul class="list-group">
            {% for e in form.author_id.errors %}
                <li class="list-group-item list-group-item-danger">{{ e }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <input class="btn btn-default" type="submit" value="Enregistrer">
{% endblock %}
